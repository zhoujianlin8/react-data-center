!function(e){function t(o){if(n[o])return n[o].exports;var module=n[o]={i:o,l:!1,exports:{}};return e[o].call(module.exports,module,module.exports,t),module.l=!0,module.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(exports,e,n){t.o(exports,e)||Object.defineProperty(exports,e,{configurable:!1,enumerable:!0,get:n})},t.n=function(module){var e=module&&module.__esModule?function(){return module.default}:function(){return module};return t.d(e,"a",e),e},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=6)}([function(module,exports){module.exports=React},function(module,exports,e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.saveRender=exports.register=exports.connect=exports.Message=exports.DATA=exports.combine=exports.Com=exports.Provider=void 0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e(0),c=t(l),f=e(2),p=t(f),d=e(9),h=t(d),y=e(10),b=t(y),v=Symbol("__UPDATE__ALL__Provider__"),m=new h.default({update:function(e){var t=m._listeners[v],n=t&&t.length;m.fire(v,function(){e&&--n<=0&&e()})}}),_={},O=(l.PropTypes.object.isRequired,function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n)),u=e.init||{};return"function"==typeof e.init&&(u=e.init(m)||{}),e.error&&(m.error=e.error),u&&u.initState&&(m.state=u.initState),!1===e.isSafeRender&&(m.isSafeRender=!1),i}return i(t,e),s(t,[{key:"getChildContext",value:function(){return{Data:m}}},{key:"getData",value:function(){return m}},{key:"render",value:function(){return c.default.createElement("div",{className:this.props.className},this.props.children)}}]),t}(l.Component));O.defaultProps={init:{},error:!1,isSafeRender:!0};var g=function(e){function t(e,n){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(i.arrUpdate=[],i.moduleObj=m.getModule(e.module),i.comp=e.component||i.moduleObj.component,i.options=Object.assign({isPure:!0,isOnlyFn:!1,isSafeRender:null},e.options||i.moduleObj.options||{}),"string"==typeof i.comp&&(i.comp=_[i.comp]),!i.comp){var u;return u=console.error("component cannot be null",i.moduleObj,e.module),r(i,u)}return(!0===i.options.isSafeRender||!1!==m.isSafeRender&&!1!==i.options.isSafeRender)&&(i.comp=(0,b.default)(i.comp,e.error||i.moduleObj.error||m.error)),i.state=i.getState(),i.stateHashCode=i.createHashCode(i.state),i._update=function(e){i.didMount?i.shouldSetState(i.getState(),e):i.arrUpdate.push(e)},!i.options.isOnlyFn&&m.on(v,i._update),i.refObj={},e.ref&&(i.refObj={ref:function(e){i.child=e}}),i}return i(t,e),s(t,[{key:"shouldSetState",value:function(e,t){this.isChangeState(e)?this.setState(e,t):t&&t()}},{key:"getState",value:function(){var e=this,t=this.props.props||this.moduleObj.props||{};return"function"==typeof t&&(t=t(m)||{}),t.state=t.state||this.moduleObj.state||{},this.moduleObj&&this.moduleObj.setState&&["fire","setState"].forEach(function(n){t[n]=t[n]||e.moduleObj[n].bind(e.moduleObj)}),t}},{key:"render",value:function(){var e=this.comp,t=this.props,o=(t.module,t.ref,t.compoent,t.options,t.state,t.props,n(t,["module","ref","compoent","options","state","props"]));return c.default.createElement(e,a({},this.refObj,this.state,o))}},{key:"shouldComponentUpdate",value:function(e,t){return!0===this.isShouldComponentUpdate?(this.isShouldComponentUpdate=!1,!0):!this.options.isOnlyFn&&!(this.options.isPure&&!this.isChangeState(t,!0))}},{key:"createHashCode",value:function(e){var t=JSON.stringify(e),n=0,o=void 0,r=void 0,i=void 0;if(0===t.length)return n;for(o=0,i=t.length;o<i;o++)r=t.charCodeAt(o),n=(n<<5)-n+r,n|=0;return n}},{key:"isChangeState",value:function(e,t){var n=!1,o=this.createHashCode(e);return this.stateHashCode!==o&&(!t&&(this.isShouldComponentUpdate=!0),this.stateHashCode=o,n=!0),n}},{key:"componentDidMount",value:function(){var e=this;this.didMount=!0;var t=function(e){e.forEach(function(e){return e&&e()})};if(this.arrUpdate&&this.arrUpdate.length){var n=this.getState();this.shouldSetState(n,function(){t(e.arrUpdate)})}}},{key:"componentWillUnmount",value:function(){!this.options.isOnlyFn&&m.off(v,this._update)}}]),t}(l.Component);g.defaultProps={module:""},g.propsTypes={module:l.PropTypes.string.isRequired};var j=function(module){var e,t,n={};if("string"==typeof module)n.module=module;else if("object"===(void 0===module?"undefined":u(module)))n=module;else{if("function"!=typeof module)return conole.error("module参数错误"+module);n=module(m)}var a=n.component||m.getModule(n.module).component;if("string"==typeof a&&(a=_[a]),!a)return conole.error("component未找到"+module);a.name||a.displayName;return t=e=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),t}(g),e.defaultProps=n,t},S=function(e,t){return"object"===(void 0===e?"undefined":u(e))?_=Object.assign(_,e):"string"==typeof e&&"function"==typeof t&&(_[e]=t),_},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.initState&&(m.state=e.initState,delete e.initState);for(var t in e){var n=e[t]||{};"function"==typeof n&&(n=n(m)||{}),Object.assign(m.createModule(t,n.initState),n)}return{}};exports.Provider=O,exports.Com=g,exports.combine=P,exports.DATA=m,exports.Message=p.default,exports.connect=j,exports.register=S,exports.saveRender=b.default},function(module,exports,e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){t(this,e),this._listeners={}}return n(e,[{key:"on",value:function(e,t){var n=this._listeners[e]||[];return t=t||function(){},n.push(t),this._listeners[e]=n,this}},{key:"off",value:function(e,t){if(void 0===t)return delete this._listeners[e],this;var n=this._listeners[e]||[],o=[];return n.forEach(function(e){e!==t&&o.push(e)}),this._listeners[e]=o,this}},{key:"fire",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=this._listeners[e];return r&&r.forEach(function(e){e&&e.apply(void 0,n)}),this}}]),e}();exports.default=o},function(module,exports,e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var n=e(1),o=e(7),r=t(o),i=e(8),u=t(i),a={initState:{yes:"asasa"},edit:{initState:{name:"zhou"},option:{},component:r.default},stage:function(e){var t=e.createModule("stage",{age:"11"});t.props=function(e){return{state:t.state,name:e.getModule("edit").state.name,setState:t.setState.bind(t)}},t.component=u.default}};exports.default=(0,n.combine)(a)},function(module,exports){},function(module,exports){module.exports=ReactDOM},function(module,exports,e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var n=e(0),o=t(n),r=e(5),i=t(r);e(4);var u=e(1),a=e(3),s=t(a);i.default.render(o.default.createElement(u.Provider,{init:s.default},o.default.createElement(u.Com,{module:"stage"}),o.default.createElement(u.Com,{module:"edit"})),document.getElementById("container"))},function(module,exports,e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=e(0),u=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function i(){return t(this,i),n(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return o(i,e),r(i,[{key:"render",value:function(){return u.default.createElement("div",{className:""},this.props.age,u.default.createElement("input",{type:"text",value:this.props.state.name,onChange:this.onChangeName.bind(this)}),u.default.createElement("div",{onClick:this.onClick.bind(this)},"btn"))}},{key:"onClick",value:function(){console.log(22)}},{key:"onChangeName",value:function(e){this.props.setState({name:e.target.value})}}]),i}(i.Component);a.defaultProps={state:{},setState:function(){}},exports.default=a},function(module,exports,e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=e(0),u=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function i(){return t(this,i),n(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return o(i,e),r(i,[{key:"componentDidMount",value:function(){throw new Error("x ")}},{key:"render",value:function(){return u.default.createElement("div",{className:""},this.props.name,this.props.state.age)}},{key:"onChangeName",value:function(e){this.props.setState({})}}]),i}(i.Component);a.defaultProps={state:{},setState:function(){}},exports.default=a},function(module,exports,e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=e(2),u=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,i);var o=n(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o._$$update=e.update,o._$$data=Object.assign({},e.data||{}),o._$$DATA=e.top,o}return o(i,e),r(i,[{key:"setState",value:function(e,t){return Object.assign(this._$$data,e||{}),this.forceUpdate(t),this}},{key:"forceUpdate",value:function(e){this._$$update&&this._$$update(e)}},{key:"DATA",get:function(){return this._$$DATA}},{key:"state",set:function(e){return this._$$data=e,this._$$data},get:function(){return this._$$data}}]),i}(u.default),s=function(e){function i(){var e,o,r,u;t(this,i);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return o=r=n(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(s))),r._$$allModule={},u=o,n(r,u)}return o(i,e),r(i,[{key:"createModule",value:function(e,t){var n=this;return this.existModule(e)?(console.log("key "+e+" found in "+this._$$allModule),t&&(this._$$allModule[e].state=t)):this._$$allModule[e]=new a({data:t,update:n._$$update,top:n}),this._$$allModule[e]}},{key:"existModule",value:function(e){return!!this._$$allModule[e]}},{key:"removeModule",value:function(e){return delete this._$$allModule[e],this}},{key:"getModule",value:function(e){var t=this;return void 0===e?this._$$allModule:this.existModule(e)?t._$$allModule[e]:this.createModule(e)}},{key:"DATA",get:function(){return this}}]),i}(a);exports.default=s},function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return["render","componentWillMount","componentDidMount","componentWillReceiveProps","componentWillUpdate","componentDidUpdate","componentWillUnmount"].forEach(function(n){var o=e.prototype[n];o&&(e.prototype[n]=function(){try{return o.apply(this,arguments)}catch(e){t?t(e):console.error(e)}})}),e}}]);